import os
import numpy as np
import cv2


if __name__ == "__main__":
    
    cam_dir = "/home/antenna/ssd/Calibration/conf_nvr/nvr26/ch21"
    
    objpoints = [-61.436729431152,-12.594909667969,0.025516176596,
                -61.708503723145,-3.384706497192,0.063389793038,
                -60.061286926270,-2.995679855347,0.025489699095,
                -58.435287475586,-2.990602493286,0.023021038622,
                -56.022285461426,-2.985963821411,0.026328757405,
                -57.444580078125,-6.735538482666,-0.005732610822,
                -59.185440063477,-6.705196380615,-0.009121330455,
                -59.617919921875,-9.476673126221,-0.005412163213,
                -56.389373779297,-9.897872924805,-0.016341341659,
                -53.863456726074,-12.150131225586,0.082866825163,
                -61.489418029785,-12.677482604980,1.284623503685,
                -61.706169128418,-3.385412216187,1.233390688896,
                -53.856384277344,-12.171253204346,1.254018783569,
                ]
                
    imgpoints = [[1628, 627],
                [2110, 1124],
                [1664, 1215],
                [1162, 1242],
                [454, 1238],
                [985, 896],
                [1349, 882],
                [1400, 741],
                [877, 747],
                [601, 680],
                [1626, 465],
                [2136, 795],
                [586, 526]]

    imgpoints = np.array(imgpoints)
    objpoints = np.array(objpoints)
    pointYaml = os.path.join(cam_dir, '2d3dpoints.yml')
    fs = cv2.FileStorage(pointYaml, cv2.FILE_STORAGE_WRITE)
    fs.write('objpoints', objpoints)
    fs.write('imgpoints', imgpoints)

    print()
